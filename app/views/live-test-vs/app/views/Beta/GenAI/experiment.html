{% extends "layouts/main.html" %} {% block pageTitle %} Check your answers
template – {{ serviceName }} – GOV.UK Prototype Kit {% endblock %} {% block
beforeContent %} 
{% endblock %} 

{% block content %}
<style>
  /* Add your CSS styles here */
  /* Example styles for chat bubbles */
  .chat-container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 20px;
    border: 1px solid #b1b4b6;
    border-radius: 10px;
    background-color: 	#ffffff;
    
  }
  .chat-message {
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 5px;
    font-size: 19px;
  }
  .user-message {
    background-color: #ffffff;
    border: 1px solid #00a33b;
    text-align: right;
    font-family: 'Roboto', sans-serif;
    color: #000000;
    font-size: 19px;

  }
  .response {
    background-color: #ffffff;
    text-align: left;
  }
</style>

<script>
  // JavaScript for the chatbot
  function sendMessage() {
    var userInput = document.getElementById('user-input').value;
    var chatLog = document.getElementById('chat-log');
    
    // Display user message
    var userMessage = document.createElement('div');
    userMessage.className = 'chat-message user-message';
    userMessage.textContent = userInput;
    chatLog.appendChild(userMessage);
    
    // Generate bot response based on user input
    var botResponse = generateBotResponse(userInput);
    var botMessage = document.createElement('div');
    botMessage.className = 'chat-message bot-message';
    botMessage.textContent = 'Bot: ' + botResponse;
    chatLog.appendChild(botMessage);
    
    // Clear input field
    document.getElementById('user-input').value = '';
  }

  function generateBotResponse(userInput) {
    // Example logic for generating bot response based on user input
    var responses = {
      'hello': 'Hi there! How can I help you today?',
      'how are you': 'I am just a bot, but thanks for asking!',
      'bye': 'Goodbye! Have a great day!'
    };

    // Default response if user input does not match any known patterns
    var defaultResponse = "I'm sorry, I didn't understand that.";

    // Check if user input matches any known patterns
    for (var key in responses) {
      if (userInput.toLowerCase().includes(key)) {
        return responses[key];
      }
    }

    // Return default response if no matching pattern is found
    return defaultResponse;
  }
</script>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl">Farming funding assistant</h1>
    <div class="govuk-inset-text">
      This tool is designed to assist you in signposting customer inquiries. <br>
      Please note that it is not intended to provide advice or confirm eligibility.
    </div>
    <div class="chat-container">
      <div id="chat-log"></div>
    </div>
    <!--User input-->
    <div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="200">
      <div class="govuk-form-group">
        <h1 class="govuk-label-wrapper">
          <label class="govuk-label govuk-label--l" for="with-hint">
            How can I help you?
          </label>
        </h1>
        <div id="with-hint-hint" class="govuk-hint">
          Prompt writing guidance text
        </div>
        <textarea class="govuk-textarea govuk-js-character-count" id="user-input" rows="5" aria-describedby="with-hint-info with-hint-hint"></textarea>
      </div>
      <div id="with-hint-info" class="govuk-hint govuk-character-count__message">
        You can enter up to 200 characters
      </div>
    </div>
    <button onclick="sendMessage()" type="submit" class="govuk-button" data-module="govuk-button">
      Send message
    </button>
  </div>
</div>







  {% endblock %}



